<nz-layout *ngIf="dashboard">
	<nz-header>
		<div nz-row>
			<div nz-col nzSpan="6">		
				<ul nz-menu  nzMode="horizontal" >
					<li nz-submenu  *ngIf="showMenu">
						
						<span title><i nz-icon type="ellipsis"></i> {{dashboard.name}}</span>
						<ul>
							<ng-container *ngIf="dashboards.length > 1">
								<li nz-menu-item *ngFor="let dashboard of dashboards" [routerLink]="['/dashboard', dashboard.id]">{{dashboard.name}}</li>
							</ng-container>
							<!-- <li nz-menu-item *ngIf="authenticated && dashboardCount > 1" class="dropdown-divider"></li> -->
							<li nz-menu-item *ngIf="authenticated && anonymous" href="javascript: return false;" (click)="logoff($event)" >{{('login' | translate)}}</li>
							<li nz-menu-item *ngIf="authenticated && !anonymous" href="javascript: return false;" (click)="logoff($event)">{{('logout' | translate)}}</li>
						</ul>
					</li>
					<li nz-menu-item *ngIf="showPanelController">
						<a  (click)="dashboardPanelsHidden = !dashboardPanelsHidden;">
							<i nz-icon type="dashboard" nzTheme="twotone"></i>
						</a>
					</li>
				</ul>
			</div>
			<div class="kervi-sys-panel" *ngIf="dashboard && dashboard.sysPanel" nz-col nzSpan="18">
					<kervi-dashboard-panel [dashboardSizes]="dashboardSizes" [inline]="true" [panel]="dashboard.sysPanel" ></kervi-dashboard-panel>
			</div>
		</div>
	</nz-header>
		
	<nz-content>

			<kervi-cam-viewer *ngIf="cameraId" [isBackground]="true" [cameraId]="cameraId" [linkParameters]="cameraParameters"></kervi-cam-viewer>
			<div #leftPad class="kervi-controller-pad" *ngIf="showLeftPad" [style.left.px]="leftPadLeft" [style.top.px]="leftPadTop" >
				<kervi-controller-pad [autoCenter]="autoCenterLeftPad" [XValue]="leftPadXValue" [YValue]="leftPadYValue"></kervi-controller-pad>
			</div>
			<div #rightPad class="kervi-controller-pad" *ngIf="showRightPad" [style.left.px]="rightPadLeft" [style.top.px]="rightPadTop" >
				<kervi-controller-pad [autoCenter]="autoCenterRightPad" [XValue]="rightPadXValue" [YValue]="rightPadYValue"></kervi-controller-pad>
			</div>
			

		<div class="kervi-panels" fxLayout=" row" fxLayout.xs="column" fxLayoutGap="0.5%" fxLayoutAlign=""  *ngIf="!dashboardPanelsHidden" style="">
			<kervi-dashboard-panel  *ngFor="let panel of dashboard.panels" [dashboardSizes]="defaultSizes" [panel]="panel" class="w-{{panel.width}}"></kervi-dashboard-panel>
		</div>
	</nz-content>
	<nz-footer>
		<div nz-col nzSpan="8" style="text-align: left">
			<kervi-dashboard-panel [inline]="true" *ngIf="dashboard.footerLeftPanel" [dashboardSizes]="defaultSizes" [panel]="dashboard.footerLeftPanel"></kervi-dashboard-panel>
		</div>
		<div nz-col nzSpan="8" style="text-align:center">
			<kervi-dashboard-panel [inline]="true" *ngIf="dashboard.footerCenterPanel" [dashboardSizes]="defaultSizes" [panel]="dashboard.footerCenterPanel"></kervi-dashboard-panel>
		</div>
		<div nz-col nzSpan="8"  style="text-align: right">
			<kervi-dashboard-panel [inline]="true" *ngIf="dashboard.footerRightPanel" [dashboardSizes]="defaultSizes" [panel]="dashboard.footerRightPanel"></kervi-dashboard-panel>
			<button nz-button nzShape="round" (mousedown)="toggleFullScreen()"><i nz-icon [nzType]="inFullScreen ? 'fullscreen' : 'fullscreen-exit'" title="{{( 'toggle_screen' | translate)}}"></i></button>
		</div>
	</nz-footer>
</nz-layout>




